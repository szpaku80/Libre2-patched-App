From 71814c02d7a3d27c62fe391f8579610841f39366 Mon Sep 17 00:00:00 2001
From: smos <smos+librelink@posteo.eu>
Date: Mon, 23 Sep 2019 13:48:35 +0200
Subject: [PATCH 2/2] Disable uplink features

---
 AndroidManifest.xml                           |  51 ------
 res/layout/eventlog_activity.xml              |   2 +-
 res/menu/default_menu.xml                     |   2 -
 res/menu/navdrawer.xml                        |   1 -
 .../com/librelink/app/core/App.smali          |  35 ----
 .../app/core/App_MembersInjector.smali        |  33 ----
 .../com/librelink/app/core/BleManager$3.smali |   1 -
 .../com/librelink/app/core/BleManager$5.smali |   2 +
 .../com/librelink/app/core/BleManager.smali   |   1 -
 .../com/librelink/app/core/FirebaseTree.smali |  55 ------
 .../app/core/PatchEventFirebaseUploader.smali |  54 +-----
 .../core/components/DaggerAppComponent.smali  |  26 ---
 .../app/core/modules/AppModule$2$1.smali      |  13 +-
 .../app/core/modules/AppModule$2.smali        |  20 +-
 .../app/core/modules/AppModule.smali          | 173 +-----------------
 .../ApplicationConfigurationValues.smali      |   3 +-
 .../app/ui/common/ScanSensorActivity.smali    |  86 ---------
 .../app/ui/help/EventLogActivity.smali        |   7 -
 .../librelink/app/ui/help/HelpActivity.smali  |  40 ----
 19 files changed, 16 insertions(+), 589 deletions(-)

diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index 4d1e9bfa..d6902491 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -3,9 +3,6 @@
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
     <uses-permission android:name="android.permission.NFC"/>
     <uses-permission android:name="android.permission.VIBRATE"/>
-    <uses-permission android:name="android.permission.INTERNET"/>
-    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
-    <uses-permission android:name="com.android.vending.CHECK_LICENSE"/>
     <uses-feature android:name="android.hardware.nfc" android:required="true"/>
     <uses-permission android:name="android.permission.BLUETOOTH"/>
     <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
@@ -111,21 +108,6 @@
                 <action android:name="com.freestylelibre.app.de.action.ALARM_CLEARED"/>
             </intent-filter>
         </receiver>
-        <receiver android:name="com.librelink.app.receivers.DataUploadReceiver">
-            <intent-filter>
-                <action android:name="android.intent.action.BOOT_COMPLETED"/>
-            </intent-filter>
-        </receiver>
-        <receiver android:name="com.librelink.app.receivers.LicenseCheckReceiver">
-            <intent-filter>
-                <action android:name="android.intent.action.BOOT_COMPLETED"/>
-            </intent-filter>
-        </receiver>
-        <receiver android:name="com.librelink.app.receivers.ActiveSensorUploadReceiver">
-            <intent-filter>
-                <action android:name="android.intent.action.BOOT_COMPLETED"/>
-            </intent-filter>
-        </receiver>
         <receiver android:name="com.librelink.app.core.alarms.BootCompletedReceiver">
             <intent-filter>
                 <action android:name="android.intent.action.BOOT_COMPLETED"/>
@@ -134,33 +116,6 @@
         <provider android:authorities="com.freestylelibre.app.de.fileprovider" android:exported="false" android:grantUriPermissions="true" android:name="com.librelink.app.database.LibreLinkReportsFileProvider">
             <meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/file_paths"/>
         </provider>
-        <meta-data android:name="io.fabric.ApiKey" android:value="fac72c583d907a0c02e2f04666cb63b7ad07c639"/>
-        <service android:name="com.google.firebase.components.ComponentDiscoveryService">
-            <meta-data android:name="com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar" android:value="com.google.firebase.components.ComponentRegistrar"/>
-            <meta-data android:name="com.google.firebase.components:com.google.firebase.iid.Registrar" android:value="com.google.firebase.components.ComponentRegistrar"/>
-        </service>
-        <receiver android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementReceiver"/>
-        <receiver android:enabled="true" android:exported="true" android:name="com.google.android.gms.measurement.AppMeasurementInstallReferrerReceiver" android:permission="android.permission.INSTALL_PACKAGES">
-            <intent-filter>
-                <action android:name="com.android.vending.INSTALL_REFERRER"/>
-            </intent-filter>
-        </receiver>
-        <service android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementService"/>
-        <service android:enabled="true" android:exported="false" android:name="com.google.android.gms.measurement.AppMeasurementJobService" android:permission="android.permission.BIND_JOB_SERVICE"/>
-        <receiver android:exported="true" android:name="com.google.firebase.iid.FirebaseInstanceIdReceiver" android:permission="com.google.android.c2dm.permission.SEND">
-            <intent-filter>
-                <action android:name="com.google.android.c2dm.intent.RECEIVE"/>
-                <category android:name="com.freestylelibre.app.de"/>
-            </intent-filter>
-        </receiver>
-        <service android:exported="true" android:name="com.google.firebase.iid.FirebaseInstanceIdService">
-            <intent-filter android:priority="-500">
-                <action android:name="com.google.firebase.INSTANCE_ID_EVENT"/>
-            </intent-filter>
-        </service>
-        <provider android:authorities="com.freestylelibre.app.de.firebaseinitprovider" android:exported="false" android:initOrder="100" android:name="com.google.firebase.provider.FirebaseInitProvider"/>
-        <activity android:exported="false" android:name="com.google.android.gms.common.api.GoogleApiActivity" android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
-        <meta-data android:name="com.google.android.gms.version" android:value="@integer/google_play_services_version"/>
         <service android:exported="false" android:name="com.evernote.android.job.v21.PlatformJobService" android:permission="android.permission.BIND_JOB_SERVICE"/>
         <service android:exported="false" android:name="com.evernote.android.job.v14.PlatformAlarmService" android:permission="android.permission.BIND_JOB_SERVICE"/>
         <service android:exported="false" android:name="com.evernote.android.job.v14.PlatformAlarmServiceExact"/>
@@ -178,12 +133,6 @@
                 <action android:name="android.intent.action.MY_PACKAGE_REPLACED"/>
             </intent-filter>
         </receiver>
-        <service android:enabled="false" android:exported="true" android:name="com.evernote.android.job.gcm.PlatformGcmService" android:permission="com.google.android.gms.permission.BIND_NETWORK_TASK_SERVICE">
-            <intent-filter>
-                <action android:name="com.google.android.gms.gcm.ACTION_TASK_READY"/>
-            </intent-filter>
-        </service>
         <service android:exported="false" android:name="com.evernote.android.job.JobRescheduleService" android:permission="android.permission.BIND_JOB_SERVICE"/>
-        <provider android:authorities="com.freestylelibre.app.de.crashlyticsinitprovider" android:exported="false" android:initOrder="90" android:name="com.crashlytics.android.CrashlyticsInitProvider"/>
     </application>
 </manifest>
\ No newline at end of file
diff --git a/res/layout/eventlog_activity.xml b/res/layout/eventlog_activity.xml
index c2d29013..33d21c57 100644
--- a/res/layout/eventlog_activity.xml
+++ b/res/layout/eventlog_activity.xml
@@ -4,7 +4,7 @@
     <include layout="@layout/actionbar" />
     <ListView android:id="@id/eventList" android:layout_width="fill_parent" android:layout_height="0.0dip" android:divider="@null" android:layout_weight="1.0" />
     <TextView android:gravity="center" android:id="@id/eventList_empty" android:visibility="gone" android:layout_width="fill_parent" android:layout_height="0.0dip" android:text="@string/eventLogEmptyMessage" android:layout_weight="1.0" />
-    <LinearLayout android:gravity="center" android:orientation="horizontal" android:id="@id/eventList_button" android:layout_width="fill_parent" android:layout_height="96.0dip" android:layout_weight="0.0">
+    <LinearLayout android:visibility="gone" android:gravity="center" android:orientation="horizontal" android:id="@id/eventList_button" android:layout_width="fill_parent" android:layout_height="96.0dip" android:layout_weight="0.0">
         <Button android:id="@id/send_troubleshooting_data_btn" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="@string/logUploadTitle" style="@style/Button.White" />
     </LinearLayout>
 </LinearLayout>
\ No newline at end of file
diff --git a/res/menu/default_menu.xml b/res/menu/default_menu.xml
index 342d38fb..2a0fb8f1 100644
--- a/res/menu/default_menu.xml
+++ b/res/menu/default_menu.xml
@@ -2,8 +2,6 @@
 <menu
   xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto">
     <item android:id="@id/action_settings" android:title="@string/settings" app:showAsAction="never" />
-    <item android:id="@id/action_account_profile" android:title="@string/account" app:showAsAction="never" />
-    <item android:id="@id/action_change_password" android:title="@string/changePassword" app:showAsAction="never" />
     <item android:id="@id/action_help" android:title="@string/help" app:showAsAction="never" />
     <item android:id="@id/action_about" android:title="@string/about" app:showAsAction="never" />
 </menu>
\ No newline at end of file
diff --git a/res/menu/navdrawer.xml b/res/menu/navdrawer.xml
index 00d1eb09..05beefcc 100644
--- a/res/menu/navdrawer.xml
+++ b/res/menu/navdrawer.xml
@@ -22,6 +22,5 @@
     <group android:id="@id/group2">
         <item android:icon="@drawable/icon_shop_cart_2" android:id="@id/navigation_item_order_sensor" android:title="@string/order_sensors" />
         <item android:icon="@drawable/icon_alarm" android:id="@id/navigation_item_reminders" android:title="@string/reminders" />
-        <item android:icon="@drawable/ic_share_connected_apps" android:id="@id/navigation_item_share" android:title="@string/menuConnectedApps" />
     </group>
 </menu>
\ No newline at end of file
diff --git a/smali_classes2/com/librelink/app/core/App.smali b/smali_classes2/com/librelink/app/core/App.smali
index e058e618..c74af68d 100644
--- a/smali_classes2/com/librelink/app/core/App.smali
+++ b/smali_classes2/com/librelink/app/core/App.smali
@@ -18,11 +18,6 @@
     .end annotation
 .end field
 
-.field firebaseTree:Lcom/librelink/app/core/FirebaseTree;
-    .annotation runtime Ljavax/inject/Inject;
-    .end annotation
-.end field
-
 .field initialIntent:Ljavax/inject/Provider;
     .annotation runtime Lcom/librelink/app/core/Qualifiers$InitialIntent;
     .end annotation
@@ -102,9 +97,6 @@
 .method private init()V
     .locals 2
 
-    .line 120
-    invoke-static {p0}, Lcom/google/firebase/FirebaseApp;->initializeApp(Landroid/content/Context;)Lcom/google/firebase/FirebaseApp;
-
     .line 122
     invoke-static {p0}, Lcom/librelink/app/util/JobSchedulerUtils;->initialize(Lcom/librelink/app/core/App;)V
 
@@ -164,15 +156,6 @@
 
     invoke-static {p0, v0}, Lcom/librelink/app/services/ReminderService;->enqueueWork(Landroid/content/Context;Landroid/content/Intent;)V
 
-    .line 139
-    invoke-static {}, Lcom/librelink/app/jobs/LicenseCheckJob;->scheduleJob()V
-
-    .line 141
-    invoke-static {}, Lcom/librelink/app/jobs/DataUploadJob;->scheduleJob()V
-
-    .line 142
-    invoke-static {}, Lcom/librelink/app/jobs/ActiveSensorUploadJob;->scheduleJob()V
-
     .line 144
     iget-object v0, p0, Lcom/librelink/app/core/App;->bleManager:Lcom/librelink/app/core/BleManager;
 
@@ -435,24 +418,6 @@
     .line 100
     invoke-direct {p0}, Lcom/librelink/app/core/App;->init()V
 
-    .line 109
-    iget-object v2, p0, Lcom/librelink/app/core/App;->firebaseTree:Lcom/librelink/app/core/FirebaseTree;
-
-    invoke-static {v2}, Ltimber/log/Timber;->plant(Ltimber/log/Timber$Tree;)V
-
-    const/4 v2, 0x1
-
-    .line 110
-    new-array v2, v2, [Lio/fabric/sdk/android/Kit;
-
-    new-instance v3, Lcom/crashlytics/android/Crashlytics;
-
-    invoke-direct {v3}, Lcom/crashlytics/android/Crashlytics;-><init>()V
-
-    aput-object v3, v2, v1
-
-    invoke-static {p0, v2}, Lio/fabric/sdk/android/Fabric;->with(Landroid/content/Context;[Lio/fabric/sdk/android/Kit;)Lio/fabric/sdk/android/Fabric;
-
     .line 113
     invoke-static {p0}, Lcom/librelink/app/core/StethoUtils;->initialize(Landroid/app/Application;)V
 
diff --git a/smali_classes2/com/librelink/app/core/App_MembersInjector.smali b/smali_classes2/com/librelink/app/core/App_MembersInjector.smali
index 89b6a8a9..aa83ac01 100644
--- a/smali_classes2/com/librelink/app/core/App_MembersInjector.smali
+++ b/smali_classes2/com/librelink/app/core/App_MembersInjector.smali
@@ -38,16 +38,6 @@
     .end annotation
 .end field
 
-.field private final firebaseTreeProvider:Ljavax/inject/Provider;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljavax/inject/Provider<",
-            "Lcom/librelink/app/core/FirebaseTree;",
-            ">;"
-        }
-    .end annotation
-.end field
-
 .field private final initialIntentProvider:Ljavax/inject/Provider;
     .annotation system Ldalvik/annotation/Signature;
         value = {
@@ -131,9 +121,6 @@
     .line 37
     iput-object p3, p0, Lcom/librelink/app/core/App_MembersInjector;->initialIntentProvider:Ljavax/inject/Provider;
 
-    .line 38
-    iput-object p4, p0, Lcom/librelink/app/core/App_MembersInjector;->firebaseTreeProvider:Ljavax/inject/Provider;
-
     .line 39
     iput-object p5, p0, Lcom/librelink/app/core/App_MembersInjector;->bleManagerProvider:Ljavax/inject/Provider;
 
@@ -220,15 +207,6 @@
     return-void
 .end method
 
-.method public static injectFirebaseTree(Lcom/librelink/app/core/App;Lcom/librelink/app/core/FirebaseTree;)V
-    .locals 0
-
-    .line 87
-    iput-object p1, p0, Lcom/librelink/app/core/App;->firebaseTree:Lcom/librelink/app/core/FirebaseTree;
-
-    return-void
-.end method
-
 .method public static injectInitialIntent(Lcom/librelink/app/core/App;Ljavax/inject/Provider;)V
     .locals 0
     .annotation system Ldalvik/annotation/Signature;
@@ -306,17 +284,6 @@
 
     invoke-static {p1, v0}, Lcom/librelink/app/core/App_MembersInjector;->injectInitialIntent(Lcom/librelink/app/core/App;Ljavax/inject/Provider;)V
 
-    .line 67
-    iget-object v0, p0, Lcom/librelink/app/core/App_MembersInjector;->firebaseTreeProvider:Ljavax/inject/Provider;
-
-    invoke-interface {v0}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/librelink/app/core/FirebaseTree;
-
-    invoke-static {p1, v0}, Lcom/librelink/app/core/App_MembersInjector;->injectFirebaseTree(Lcom/librelink/app/core/App;Lcom/librelink/app/core/FirebaseTree;)V
-
     .line 68
     iget-object v0, p0, Lcom/librelink/app/core/App_MembersInjector;->bleManagerProvider:Ljavax/inject/Provider;
 
diff --git a/smali_classes2/com/librelink/app/core/BleManager$3.smali b/smali_classes2/com/librelink/app/core/BleManager$3.smali
index e7d8f53d..13455135 100644
--- a/smali_classes2/com/librelink/app/core/BleManager$3.smali
+++ b/smali_classes2/com/librelink/app/core/BleManager$3.smali
@@ -185,7 +185,6 @@
 
 	invoke-static {p2, p1}, Lcom/librelink/app/ThirdPartyIntegration;->sendCharacteristicValueBroadcast(Lcom/librelink/app/core/BleManager;[B)V
 
-
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
diff --git a/smali_classes2/com/librelink/app/core/BleManager$5.smali b/smali_classes2/com/librelink/app/core/BleManager$5.smali
index f09852ac..6630d275 100644
--- a/smali_classes2/com/librelink/app/core/BleManager$5.smali
+++ b/smali_classes2/com/librelink/app/core/BleManager$5.smali
@@ -186,7 +186,9 @@
     const-wide/16 v2, 0x0
 
     invoke-static {p1, v2, v3}, Lcom/librelink/app/core/BleManager;->access$400(Lcom/librelink/app/core/BleManager;J)V
+
     invoke-static {p1}, Lcom/librelink/app/ThirdPartyIntegration;->sendFoundDeviceBroadcast(Lcom/librelink/app/core/BleManager;)V
+
     return v1
 
     .line 568
diff --git a/smali_classes2/com/librelink/app/core/BleManager.smali b/smali_classes2/com/librelink/app/core/BleManager.smali
index 0f131005..5a540209 100644
--- a/smali_classes2/com/librelink/app/core/BleManager.smali
+++ b/smali_classes2/com/librelink/app/core/BleManager.smali
@@ -364,7 +364,6 @@
     invoke-static {v0, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     .line 29
-
     return-void
 .end method
 
diff --git a/smali_classes2/com/librelink/app/core/FirebaseTree.smali b/smali_classes2/com/librelink/app/core/FirebaseTree.smali
index 0b9a5d12..5783624d 100644
--- a/smali_classes2/com/librelink/app/core/FirebaseTree.smali
+++ b/smali_classes2/com/librelink/app/core/FirebaseTree.smali
@@ -44,60 +44,5 @@
 
 .method protected log(ILjava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
     .locals 0
-
-    .line 33
-    invoke-static {p3}, Lcom/crashlytics/android/Crashlytics;->log(Ljava/lang/String;)V
-
-    if-eqz p4, :cond_0
-
-    const/4 p1, 0x1
-
-    goto :goto_0
-
-    :cond_0
-    const/4 p1, 0x0
-
-    .line 37
-    :goto_0
-    instance-of p2, p4, Lcom/librelink/app/core/AppError;
-
-    if-eqz p2, :cond_1
-
-    .line 39
-    move-object p1, p4
-
-    check-cast p1, Lcom/librelink/app/core/AppError;
-
-    .line 40
-    invoke-virtual {p1}, Lcom/librelink/app/core/AppError;->isUnexpected()Z
-
-    move-result p2
-
-    .line 41
-    iget-object p3, p0, Lcom/librelink/app/core/FirebaseTree;->analytics:Lcom/librelink/app/types/Analytics;
-
-    invoke-virtual {p1}, Lcom/librelink/app/core/AppError;->getReason()Lcom/librelink/app/core/AppError$Reason;
-
-    move-result-object p1
-
-    invoke-virtual {p1}, Lcom/librelink/app/core/AppError$Reason;->name()Ljava/lang/String;
-
-    move-result-object p1
-
-    invoke-interface {p3, p1}, Lcom/librelink/app/types/Analytics;->createEvent(Ljava/lang/String;)Lcom/librelink/app/types/Analytics$Event;
-
-    move-result-object p1
-
-    invoke-interface {p1}, Lcom/librelink/app/types/Analytics$Event;->log()V
-
-    move p1, p2
-
-    :cond_1
-    if-eqz p1, :cond_2
-
-    .line 46
-    invoke-static {p4}, Lcom/crashlytics/android/Crashlytics;->logException(Ljava/lang/Throwable;)V
-
-    :cond_2
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/core/PatchEventFirebaseUploader.smali b/smali_classes2/com/librelink/app/core/PatchEventFirebaseUploader.smali
index a9f6279b..8dfe8c15 100644
--- a/smali_classes2/com/librelink/app/core/PatchEventFirebaseUploader.smali
+++ b/smali_classes2/com/librelink/app/core/PatchEventFirebaseUploader.smali
@@ -26,58 +26,6 @@
 
 # virtual methods
 .method public onPatchEvent(Ljava/lang/String;II)V
-    .locals 2
-
-    .line 19
-    invoke-static {p3, p2}, Lcom/librelink/app/core/PatchEventLogcatWriter;->logEventToLogcat(II)V
-
-    .line 21
-    new-instance v0, Lcom/librelink/app/core/PatchEventException;
-
-    invoke-direct {v0, p1, p2, p3}, Lcom/librelink/app/core/PatchEventException;-><init>(Ljava/lang/String;II)V
-
-    invoke-static {v0}, Lcom/crashlytics/android/Crashlytics;->logException(Ljava/lang/Throwable;)V
-
-    .line 25
-    iget-object v0, p0, Lcom/librelink/app/core/PatchEventFirebaseUploader;->mAnalytics:Lcom/librelink/app/types/Analytics;
-
-    if-eqz v0, :cond_0
-
-    .line 27
-    iget-object v0, p0, Lcom/librelink/app/core/PatchEventFirebaseUploader;->mAnalytics:Lcom/librelink/app/types/Analytics;
-
-    const-string v1, "patch_error"
-
-    invoke-interface {v0, v1}, Lcom/librelink/app/types/Analytics;->createEvent(Ljava/lang/String;)Lcom/librelink/app/types/Analytics$Event;
-
-    move-result-object v0
-
-    const-string v1, "serial_number"
-
-    .line 28
-    invoke-interface {v0, v1, p1}, Lcom/librelink/app/types/Analytics$Event;->putAttribute(Ljava/lang/String;Ljava/lang/String;)Lcom/librelink/app/types/Analytics$Event;
-
-    const-string p1, "minutes_after_activation"
-
-    .line 29
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object p2
-
-    invoke-interface {v0, p1, p2}, Lcom/librelink/app/types/Analytics$Event;->putAttribute(Ljava/lang/String;Ljava/lang/Number;)Lcom/librelink/app/types/Analytics$Event;
-
-    const-string p1, "error_code"
-
-    .line 30
-    invoke-static {p3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object p2
-
-    invoke-interface {v0, p1, p2}, Lcom/librelink/app/types/Analytics$Event;->putAttribute(Ljava/lang/String;Ljava/lang/Number;)Lcom/librelink/app/types/Analytics$Event;
-
-    .line 31
-    invoke-interface {v0}, Lcom/librelink/app/types/Analytics$Event;->log()V
-
-    :cond_0
+    .locals 0
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/core/components/DaggerAppComponent.smali b/smali_classes2/com/librelink/app/core/components/DaggerAppComponent.smali
index dd0234c3..cb192594 100644
--- a/smali_classes2/com/librelink/app/core/components/DaggerAppComponent.smali
+++ b/smali_classes2/com/librelink/app/core/components/DaggerAppComponent.smali
@@ -1169,25 +1169,6 @@
     return-object v0
 .end method
 
-.method private getFirebaseTree()Lcom/librelink/app/core/FirebaseTree;
-    .locals 2
-
-    .line 654
-    new-instance v0, Lcom/librelink/app/core/FirebaseTree;
-
-    iget-object v1, p0, Lcom/librelink/app/core/components/DaggerAppComponent;->provideAnalyticsProvider:Ljavax/inject/Provider;
-
-    invoke-interface {v1}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object v1
-
-    check-cast v1, Lcom/librelink/app/types/Analytics;
-
-    invoke-direct {v0, v1}, Lcom/librelink/app/core/FirebaseTree;-><init>(Lcom/librelink/app/types/Analytics;)V
-
-    return-object v0
-.end method
-
 .method private getGlucoseUnit()Lcom/librelink/app/types/GlucoseUnit;
     .locals 2
 
@@ -6671,13 +6652,6 @@
 
     invoke-static {p1, v0}, Lcom/librelink/app/core/App_MembersInjector;->injectInitialIntent(Lcom/librelink/app/core/App;Ljavax/inject/Provider;)V
 
-    .line 1730
-    invoke-direct {p0}, Lcom/librelink/app/core/components/DaggerAppComponent;->getFirebaseTree()Lcom/librelink/app/core/FirebaseTree;
-
-    move-result-object v0
-
-    invoke-static {p1, v0}, Lcom/librelink/app/core/App_MembersInjector;->injectFirebaseTree(Lcom/librelink/app/core/App;Lcom/librelink/app/core/FirebaseTree;)V
-
     .line 1731
     iget-object v0, p0, Lcom/librelink/app/core/components/DaggerAppComponent;->provideBleManagerProvider:Ljavax/inject/Provider;
 
diff --git a/smali_classes2/com/librelink/app/core/modules/AppModule$2$1.smali b/smali_classes2/com/librelink/app/core/modules/AppModule$2$1.smali
index 65479dcf..1f684658 100644
--- a/smali_classes2/com/librelink/app/core/modules/AppModule$2$1.smali
+++ b/smali_classes2/com/librelink/app/core/modules/AppModule$2$1.smali
@@ -49,18 +49,7 @@
 
 # virtual methods
 .method public log()V
-    .locals 3
-
-    .line 563
-    iget-object v0, p0, Lcom/librelink/app/core/modules/AppModule$2$1;->this$1:Lcom/librelink/app/core/modules/AppModule$2;
-
-    iget-object v0, v0, Lcom/librelink/app/core/modules/AppModule$2;->val$firebaseAnalytics:Lcom/google/firebase/analytics/FirebaseAnalytics;
-
-    iget-object v1, p0, Lcom/librelink/app/core/modules/AppModule$2$1;->val$eventType:Ljava/lang/String;
-
-    iget-object v2, p0, Lcom/librelink/app/core/modules/AppModule$2$1;->bundle:Landroid/os/Bundle;
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/firebase/analytics/FirebaseAnalytics;->logEvent(Ljava/lang/String;Landroid/os/Bundle;)V
+    .locals 0
 
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/core/modules/AppModule$2.smali b/smali_classes2/com/librelink/app/core/modules/AppModule$2.smali
index dff06c52..18588c93 100644
--- a/smali_classes2/com/librelink/app/core/modules/AppModule$2.smali
+++ b/smali_classes2/com/librelink/app/core/modules/AppModule$2.smali
@@ -20,18 +20,14 @@
 # instance fields
 .field final synthetic this$0:Lcom/librelink/app/core/modules/AppModule;
 
-.field final synthetic val$firebaseAnalytics:Lcom/google/firebase/analytics/FirebaseAnalytics;
-
 
 # direct methods
-.method constructor <init>(Lcom/librelink/app/core/modules/AppModule;Lcom/google/firebase/analytics/FirebaseAnalytics;)V
+.method constructor <init>(Lcom/librelink/app/core/modules/AppModule;)V
     .locals 0
 
     .line 538
     iput-object p1, p0, Lcom/librelink/app/core/modules/AppModule$2;->this$0:Lcom/librelink/app/core/modules/AppModule;
 
-    iput-object p2, p0, Lcom/librelink/app/core/modules/AppModule$2;->val$firebaseAnalytics:Lcom/google/firebase/analytics/FirebaseAnalytics;
-
     invoke-direct {p0}, Ljava/lang/Object;-><init>()V
 
     return-void
@@ -51,23 +47,13 @@
 .end method
 
 .method public setUserId(Ljava/lang/String;)V
-    .locals 1
-
-    .line 577
-    iget-object v0, p0, Lcom/librelink/app/core/modules/AppModule$2;->val$firebaseAnalytics:Lcom/google/firebase/analytics/FirebaseAnalytics;
-
-    invoke-virtual {v0, p1}, Lcom/google/firebase/analytics/FirebaseAnalytics;->setUserId(Ljava/lang/String;)V
+    .locals 0
 
     return-void
 .end method
 
 .method public setUserProperty(Ljava/lang/String;Ljava/lang/String;)V
-    .locals 1
-
-    .line 571
-    iget-object v0, p0, Lcom/librelink/app/core/modules/AppModule$2;->val$firebaseAnalytics:Lcom/google/firebase/analytics/FirebaseAnalytics;
-
-    invoke-virtual {v0, p1, p2}, Lcom/google/firebase/analytics/FirebaseAnalytics;->setUserProperty(Ljava/lang/String;Ljava/lang/String;)V
+    .locals 0
 
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/core/modules/AppModule.smali b/smali_classes2/com/librelink/app/core/modules/AppModule.smali
index 1b47ef23..6bf261e6 100644
--- a/smali_classes2/com/librelink/app/core/modules/AppModule.smali
+++ b/smali_classes2/com/librelink/app/core/modules/AppModule.smali
@@ -1821,13 +1821,6 @@
         }
     .end annotation
 
-    .line 207
-    new-instance v0, Lcom/librelink/app/core/modules/AppModule$1;
-
-    invoke-direct {v0, p0, p2}, Lcom/librelink/app/core/modules/AppModule$1;-><init>(Lcom/librelink/app/core/modules/AppModule;Lio/reactivex/CompletableEmitter;)V
-
-    invoke-virtual {p1, v0}, Lcom/google/android/vending/licensing/LicenseChecker;->checkAccess(Lcom/google/android/vending/licensing/LicenseCheckerCallback;)V
-
     return-void
 .end method
 
@@ -1876,17 +1869,10 @@
     .annotation runtime Ljavax/inject/Singleton;
     .end annotation
 
-    .line 535
-    iget-object v0, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    invoke-static {v0}, Lcom/google/firebase/analytics/FirebaseAnalytics;->getInstance(Landroid/content/Context;)Lcom/google/firebase/analytics/FirebaseAnalytics;
-
-    move-result-object v0
-
     .line 537
     new-instance v1, Lcom/librelink/app/core/modules/AppModule$2;
 
-    invoke-direct {v1, p0, v0}, Lcom/librelink/app/core/modules/AppModule$2;-><init>(Lcom/librelink/app/core/modules/AppModule;Lcom/google/firebase/analytics/FirebaseAnalytics;)V
+    invoke-direct {v1, p0}, Lcom/librelink/app/core/modules/AppModule$2;-><init>(Lcom/librelink/app/core/modules/AppModule;)V
 
     return-object v1
 .end method
@@ -1979,20 +1965,11 @@
     .annotation runtime Ljavax/inject/Singleton;
     .end annotation
 
-    .line 839
-    invoke-interface {p2}, Lcom/librelink/app/network/LabelingService;->getCachedConfigurationFile()Ljava/lang/String;
-
-    move-result-object p2
-
-    const-class v0, Lcom/librelink/app/types/ApplicationConfigurationValues;
-
-    invoke-virtual {p1, p2, v0}, Lcom/google/gson/Gson;->fromJson(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object p1
+    new-instance v0, Lcom/librelink/app/types/ApplicationConfigurationValues;
 
-    check-cast p1, Lcom/librelink/app/types/ApplicationConfigurationValues;
+    invoke-direct {v0}, Lcom/librelink/app/types/ApplicationConfigurationValues;-><init>()V
 
-    return-object p1
+    return-object v0
 .end method
 
 .method provideCountryCode()Ljava/lang/String;
@@ -2253,30 +2230,7 @@
         }
     .end annotation
 
-    .line 324
-    invoke-interface {p2}, Lcom/librelink/app/prefs/SharedPreference;->get()Ljava/lang/Object;
-
-    move-result-object p2
-
-    check-cast p2, Ljava/lang/Boolean;
-
-    invoke-virtual {p2}, Ljava/lang/Boolean;->booleanValue()Z
-
-    move-result p2
-
-    if-eqz p2, :cond_0
-
-    .line 326
-    iget-object p1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    invoke-static {p1}, Lcom/librelink/app/ui/common/LicenseCheckActivity;->getDefaultIntent(Landroid/content/Context;)Landroid/content/Intent;
-
-    move-result-object p1
-
-    goto/16 :goto_0
-
     .line 328
-    :cond_0
     iget-object p2, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
 
     invoke-static {p2}, Lcom/librelink/app/ui/common/DataMigrationActivity;->shouldAttemptToMigrateData(Landroid/content/Context;)Z
@@ -2294,92 +2248,10 @@
 
     goto/16 :goto_0
 
-    .line 332
-    :cond_1
-    invoke-interface {p3}, Lcom/librelink/app/network/LabelingService;->isCachedConfigurationFilePresent()Z
-
-    move-result p2
-
-    if-nez p2, :cond_2
-
-    .line 334
-    iget-object p1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    invoke-static {p1}, Lcom/librelink/app/ui/common/AppConfigurationDownloadActivity;->getDefaultIntent(Landroid/content/Context;)Landroid/content/Intent;
-
-    move-result-object p1
-
-    goto :goto_0
-
     .line 336
-    :cond_2
-    invoke-interface {p4}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object p2
-
-    check-cast p2, Ljava/lang/Boolean;
-
-    invoke-virtual {p2}, Ljava/lang/Boolean;->booleanValue()Z
-
-    move-result p2
-
-    if-eqz p2, :cond_3
-
-    .line 338
-    iget-object p1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    invoke-static {p1}, Lcom/librelink/app/ui/common/VersionCheckActivity;->getDefaultIntent(Landroid/content/Context;)Landroid/content/Intent;
-
-    move-result-object p1
-
-    goto :goto_0
-
-    .line 340
-    :cond_3
-    invoke-interface {p1}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object p1
-
-    check-cast p1, Lcom/librelink/app/network/NetworkService;
-
-    invoke-interface {p1}, Lcom/librelink/app/network/NetworkService;->isLoggedIn()Z
-
-    move-result p1
-
-    if-nez p1, :cond_4
-
-    .line 342
-    iget-object p1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    invoke-static {p1}, Lcom/librelink/app/ui/apptour/AppTourActivity;->makeIntent(Landroid/content/Context;)Landroid/content/Intent;
-
-    move-result-object p1
-
-    goto :goto_0
-
-    :cond_4
-    if-eqz p6, :cond_5
-
-    .line 346
-    iget-object p1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    const/4 p2, 0x0
-
-    invoke-static {p1, p6, p2}, Lcom/librelink/app/ui/settings/AgreementAcceptance;->acceptIntent(Landroid/content/Context;Lcom/librelink/app/types/LicenseAgreement;Z)Landroid/content/Intent;
-
-    move-result-object p1
-
-    const p2, 0x10008000
-
-    .line 347
-    invoke-virtual {p1, p2}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;
-
-    move-result-object p1
-
-    goto :goto_0
+    :cond_1
 
     .line 349
-    :cond_5
     invoke-interface {p5}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
 
     move-result-object p1
@@ -2488,45 +2360,14 @@
 .end method
 
 .method provideLicenseCheck()Lio/reactivex/Completable;
-    .locals 4
+    .locals 1
     .annotation runtime Lcom/librelink/app/core/Qualifiers$LicenseCheck;
     .end annotation
 
     .annotation runtime Ldagger/Provides;
     .end annotation
 
-    .line 205
-    new-instance v0, Lcom/google/android/vending/licensing/LicenseChecker;
-
-    iget-object v1, p0, Lcom/librelink/app/core/modules/AppModule;->app:Landroid/app/Application;
-
-    new-instance v2, Lcom/google/android/vending/licensing/StrictPolicy;
-
-    invoke-direct {v2}, Lcom/google/android/vending/licensing/StrictPolicy;-><init>()V
-
-    const-string v3, "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAhWc0CzRjBWTzUKxUFedp6BuXR42Jd8mNj34vY9x9UBM5PY9NygArO8g9D85gg9CmwrIbqpIa0Jv5tvz5pBZjN97nGO8dOdyBGU9bWFAsZe7JVgvPsLobOPi9xupuF115u7Q+qRdxLkay8zbUUY881M8uWcKwPhJ9zD5g/wqP0FNpXKa8Mk9Btf8MIUIRIl9xCFyq+UiHs0hgp4clPn/vA/7ecOGXfJKwQjyIblFUlNShncxuNXMLtf8vdiWVptCkcYs+RBRgW6MJrEUbeKG+GjMLp1YK35++E+8P12DvhLUz/r+e1Y8WGzGXbZR2pBraaEC/Z093HEkOxXnDsYqeawIDAQAB"
-
-    invoke-direct {v0, v1, v2, v3}, Lcom/google/android/vending/licensing/LicenseChecker;-><init>(Landroid/content/Context;Lcom/google/android/vending/licensing/Policy;Ljava/lang/String;)V
-
-    .line 207
-    new-instance v1, Lcom/librelink/app/core/modules/AppModule$$Lambda$0;
-
-    invoke-direct {v1, p0, v0}, Lcom/librelink/app/core/modules/AppModule$$Lambda$0;-><init>(Lcom/librelink/app/core/modules/AppModule;Lcom/google/android/vending/licensing/LicenseChecker;)V
-
-    invoke-static {v1}, Lio/reactivex/Completable;->create(Lio/reactivex/CompletableOnSubscribe;)Lio/reactivex/Completable;
-
-    move-result-object v1
-
-    invoke-virtual {v0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
-
-    invoke-static {v0}, Lcom/librelink/app/core/modules/AppModule$$Lambda$1;->get$Lambda(Lcom/google/android/vending/licensing/LicenseChecker;)Lio/reactivex/functions/Action;
-
-    move-result-object v0
-
-    .line 248
-    invoke-virtual {v1, v0}, Lio/reactivex/Completable;->doOnTerminate(Lio/reactivex/functions/Action;)Lio/reactivex/Completable;
-
-    move-result-object v0
+	const/4 v0, 0x0
 
     return-object v0
 .end method
diff --git a/smali_classes2/com/librelink/app/types/ApplicationConfigurationValues.smali b/smali_classes2/com/librelink/app/types/ApplicationConfigurationValues.smali
index 1fb63d71..0d4a0997 100644
--- a/smali_classes2/com/librelink/app/types/ApplicationConfigurationValues.smali
+++ b/smali_classes2/com/librelink/app/types/ApplicationConfigurationValues.smali
@@ -33,7 +33,7 @@
 
 # direct methods
 .method public constructor <init>()V
-.registers 2
+    .registers 2
 
     .prologue
     .line 3
@@ -104,6 +104,5 @@
 
     iput-object v0, p0, Lcom/librelink/app/types/ApplicationConfigurationValues;->oneStepSubject:Ljava/lang/String;
 
-
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/ui/common/ScanSensorActivity.smali b/smali_classes2/com/librelink/app/ui/common/ScanSensorActivity.smali
index 0eea7666..e48b4c9d 100644
--- a/smali_classes2/com/librelink/app/ui/common/ScanSensorActivity.smali
+++ b/smali_classes2/com/librelink/app/ui/common/ScanSensorActivity.smali
@@ -98,71 +98,6 @@
 .method private processIntent(Landroid/content/Intent;)V
     .locals 4
 
-    .line 103
-    iget-object v0, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->labelingService:Lcom/librelink/app/network/LabelingService;
-
-    invoke-interface {v0}, Lcom/librelink/app/network/LabelingService;->isCachedConfigurationFilePresent()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2
-
-    iget-object v0, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->setupComplete:Ljavax/inject/Provider;
-
-    .line 104
-    invoke-interface {v0}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Boolean;
-
-    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2
-
-    iget-object v0, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->networkService:Ljavax/inject/Provider;
-
-    .line 105
-    invoke-interface {v0}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/librelink/app/network/NetworkService;
-
-    invoke-interface {v0}, Lcom/librelink/app/network/NetworkService;->isLoggedIn()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2
-
-    iget-object v0, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->networkTimeEnabled:Ljavax/inject/Provider;
-
-    .line 106
-    invoke-interface {v0}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Boolean;
-
-    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2
-
-    .line 107
-    invoke-static {p0}, Lcom/librelink/app/ui/common/DataMigrationActivity;->migrationInProgress(Landroid/content/Context;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_0
-
-    goto :goto_0
-
-    .line 115
-    :cond_0
     invoke-virtual {p0}, Lcom/librelink/app/ui/common/ScanSensorActivity;->getSupportFragmentManager()Landroid/support/v4/app/FragmentManager;
 
     move-result-object v0
@@ -216,27 +151,6 @@
     .line 127
     invoke-virtual {v0}, Landroid/support/v4/app/FragmentTransaction;->commitNow()V
 
-    goto :goto_1
-
-    .line 109
-    :cond_2
-    :goto_0
-    iget-object p1, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->audioNotifier:Lcom/librelink/app/types/AudioNotifier;
-
-    invoke-interface {p1}, Lcom/librelink/app/types/AudioNotifier;->notifyError()V
-
-    .line 110
-    iget-object p1, p0, Lcom/librelink/app/ui/common/ScanSensorActivity;->initialIntent:Ljavax/inject/Provider;
-
-    invoke-interface {p1}, Ljavax/inject/Provider;->get()Ljava/lang/Object;
-
-    move-result-object p1
-
-    check-cast p1, Landroid/content/Intent;
-
-    invoke-virtual {p0, p1}, Lcom/librelink/app/ui/common/ScanSensorActivity;->startActivity(Landroid/content/Intent;)V
-
-    :goto_1
     return-void
 .end method
 
diff --git a/smali_classes2/com/librelink/app/ui/help/EventLogActivity.smali b/smali_classes2/com/librelink/app/ui/help/EventLogActivity.smali
index eef8d16e..d00e1d91 100644
--- a/smali_classes2/com/librelink/app/ui/help/EventLogActivity.smali
+++ b/smali_classes2/com/librelink/app/ui/help/EventLogActivity.smali
@@ -321,12 +321,5 @@
     .line 77
     invoke-virtual {p1, v0, v1}, Lio/reactivex/Observable;->subscribe(Lio/reactivex/functions/Consumer;Lio/reactivex/functions/Consumer;)Lio/reactivex/disposables/Disposable;
 
-    .line 85
-    iget-object p1, p0, Lcom/librelink/app/ui/help/EventLogActivity;->mButtonView:Landroid/view/View;
-
-    const/4 v0, 0x0
-
-    invoke-virtual {p1, v0}, Landroid/view/View;->setVisibility(I)V
-
     return-void
 .end method
diff --git a/smali_classes2/com/librelink/app/ui/help/HelpActivity.smali b/smali_classes2/com/librelink/app/ui/help/HelpActivity.smali
index 2e02650e..1c1169c6 100644
--- a/smali_classes2/com/librelink/app/ui/help/HelpActivity.smali
+++ b/smali_classes2/com/librelink/app/ui/help/HelpActivity.smali
@@ -186,21 +186,6 @@
     .line 89
     invoke-virtual {p1, v0}, Landroid/widget/ArrayAdapter;->add(Ljava/lang/Object;)V
 
-    .line 104
-    new-instance v0, Lcom/librelink/app/ui/help/HelpActivity$HelpItem;
-
-    .line 105
-    invoke-static {p0}, Lcom/librelink/app/ui/help/UserManualActivity;->showManualIntent(Landroid/content/Context;)Landroid/content/Intent;
-
-    move-result-object v1
-
-    const v2, 0x7f10018f
-
-    invoke-direct {v0, p0, v2, v1}, Lcom/librelink/app/ui/help/HelpActivity$HelpItem;-><init>(Lcom/librelink/app/ui/help/HelpActivity;ILandroid/content/Intent;)V
-
-    .line 104
-    invoke-virtual {p1, v0}, Landroid/widget/ArrayAdapter;->add(Ljava/lang/Object;)V
-
     .line 113
     new-instance v0, Lcom/librelink/app/ui/help/HelpActivity$HelpItem;
 
@@ -216,31 +201,6 @@
     .line 113
     invoke-virtual {p1, v0}, Landroid/widget/ArrayAdapter;->add(Ljava/lang/Object;)V
 
-    .line 116
-    iget-object v0, p0, Lcom/librelink/app/ui/help/HelpActivity;->agreements:Ljava/util/List;
-
-    invoke-static {v0}, Lcom/annimon/stream/Stream;->of(Ljava/util/List;)Lcom/annimon/stream/Stream;
-
-    move-result-object v0
-
-    new-instance v1, Lcom/librelink/app/ui/help/HelpActivity$$Lambda$0;
-
-    invoke-direct {v1, p0}, Lcom/librelink/app/ui/help/HelpActivity$$Lambda$0;-><init>(Lcom/librelink/app/ui/help/HelpActivity;)V
-
-    .line 117
-    invoke-virtual {v0, v1}, Lcom/annimon/stream/Stream;->map(Lcom/annimon/stream/function/Function;)Lcom/annimon/stream/Stream;
-
-    move-result-object v0
-
-    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
-
-    invoke-static {p1}, Lcom/librelink/app/ui/help/HelpActivity$$Lambda$1;->get$Lambda(Landroid/widget/ArrayAdapter;)Lcom/annimon/stream/function/Consumer;
-
-    move-result-object v1
-
-    .line 119
-    invoke-virtual {v0, v1}, Lcom/annimon/stream/Stream;->forEach(Lcom/annimon/stream/function/Consumer;)V
-
     .line 121
     iget-object v0, p0, Lcom/librelink/app/ui/help/HelpActivity;->mListView:Landroid/widget/ListView;
 
-- 
2.23.0

